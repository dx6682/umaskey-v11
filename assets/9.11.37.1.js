(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1127:function(t,e,s){"use strict";s.r(e);var i=s(0),r=s(2),n=s(3),o=s(816),a=i.default.extend({i18n:Object(n.a)("common/views/components/user-groups.vue"),components:{XAvatars:o.a},data:()=>({ownedGroups:[],joinedGroups:[],invites:[],faUsers:r.id,faPlus:r.pc,faCheck:r.F,faBan:r.p,faEnvelopeOpenText:r.db}),mounted(){document.title=this.$root.instanceName,this.$root.api("users/groups/owned").then((t=>{this.ownedGroups=t})),this.$root.api("users/groups/joined").then((t=>{this.joinedGroups=t})),this.$root.api("i/user-group-invites").then((t=>{this.invites=t})),this.$emit("init",{title:this.$t("user-groups"),icon:r.id})},methods:{add(){this.$root.dialog({title:this.$t("group-name"),input:!0}).then((async({canceled:t,result:e})=>{if(t)return;const s=await this.$root.api("users/groups/create",{name:e});this.ownedGroups.push(s)}))},acceptInvite(t){this.$root.api("users/groups/invitations/accept",{inviteId:t.id}).then((()=>{this.$root.dialog({type:"success",splash:!0}),this.$root.api("i/user-group-invites").then((t=>{this.invites=t})).then((()=>{this.$root.api("users/groups/joined").then((t=>{this.joinedGroups=t}))}))}))},rejectInvite(t){this.$root.api("users/groups/invitations/reject",{inviteId:t.id}).then((()=>{this.$root.api("i/user-group-invites").then((t=>{this.invites=t}))}))}}}),u=(s(858),s(1)),c=Object(u.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ui-container",{attrs:{"body-togglable":!0},scopedSlots:t._u([{key:"header",fn:function(){return[s("fa",{attrs:{icon:t.faUsers}}),t._v(" "+t._s(t.$t("owned-groups")))]},proxy:!0}])},[s("ui-margin",[s("ui-button",{on:{click:t.add}},[s("fa",{attrs:{icon:t.faPlus}}),t._v(" "+t._s(t.$t("create-group")))],1)],1),t._l(t.ownedGroups,(function(e){return s("div",{key:e.id,staticClass:"hwgkdrbl"},[s("ui-hr"),s("ui-margin",[s("router-link",{attrs:{to:"/i/groups/"+e.id}},[t._v(t._s(e.name))]),s("x-avatars",{staticStyle:{"margin-top":"8px"},attrs:{"user-ids":e.userIds}})],1)],1)}))],2),s("ui-container",{attrs:{"body-togglable":!0},scopedSlots:t._u([{key:"header",fn:function(){return[s("fa",{attrs:{icon:t.faUsers}}),t._v(" "+t._s(t.$t("joined-groups")))]},proxy:!0}])},t._l(t.joinedGroups,(function(e,i){return s("div",{key:e.id,staticClass:"hwgkdrbl"},[0!=i?s("ui-hr"):t._e(),s("ui-margin",[s("div",{staticStyle:{color:"var(--text)"}},[t._v(t._s(e.name))]),s("x-avatars",{staticStyle:{"margin-top":"8px"},attrs:{"user-ids":e.userIds}})],1)],1)})),0),s("ui-container",{attrs:{"body-togglable":!0},scopedSlots:t._u([{key:"header",fn:function(){return[s("fa",{attrs:{icon:t.faEnvelopeOpenText}}),t._v(" "+t._s(t.$t("invites")))]},proxy:!0}])},t._l(t.invites,(function(e,i){return s("div",{key:e.id,staticClass:"fvlojuur"},[0!=i?s("ui-hr"):t._e(),s("ui-margin",[s("div",{staticClass:"name",staticStyle:{color:"var(--text)"}},[t._v(t._s(e.group.name))]),s("x-avatars",{staticStyle:{"margin-top":"8px"},attrs:{"user-ids":e.group.userIds}}),s("ui-horizon-group",[s("ui-button",{on:{click:function(s){return t.acceptInvite(e)}}},[s("fa",{attrs:{icon:t.faCheck}}),t._v(" "+t._s(t.$t("accept-invite")))],1),s("ui-button",{on:{click:function(s){return t.rejectInvite(e)}}},[s("fa",{attrs:{icon:t.faBan}}),t._v(" "+t._s(t.$t("reject-invite")))],1)],1)],1)],1)})),0)],1)}),[],!1,null,"303b2a9f",null);e.default=c.exports},729:function(t,e,s){var i=s(859);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,s(5).default)("23212cb5",i,!0,{})},816:function(t,e,s){"use strict";var i=s(0).default.extend({props:{userIds:{required:!0}},data:()=>({us:[]}),async created(){this.us=await this.$root.api("users/show",{userIds:this.userIds})}}),r=s(1),n=Object(r.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.us,(function(t){return s("mk-avatar",{key:t.id,staticStyle:{width:"32px",height:"32px"},attrs:{user:t}})})),1)}),[],!1,null,null,null);e.a=n.exports},858:function(t,e,s){"use strict";var i=s(729);s.n(i).a},859:function(t,e,s){(e=s(4)(!1)).push([t.i,".hwgkdrbl[data-v-303b2a9f]{display:block}",""]),t.exports=e}}]);
//# sourceMappingURL=9.11.37.1.js.map