{"version":3,"sources":["webpack:///./node_modules/autosize/dist/autosize.js","webpack:///./src/client/app/common/views/components/messaging-room.form.vue?94f9","webpack:///./src/client/app/common/views/components/messaging-room.message.vue?3754","webpack:///./src/client/app/common/views/components/messaging-room.vue?aa87","webpack:///./src/client/app/common/views/components/messaging-room.form.vue?3c67","webpack:///./src/client/app/common/views/components/messaging-room.message.vue?76b0","webpack:///./src/client/app/common/views/components/messaging-room.vue?4773","webpack:///./src/client/app/common/views/components/messaging-room.form.vue?1f43","webpack:///./src/client/app/common/views/components/messaging-room.message.vue?4e52","webpack:///./src/client/app/common/views/components/messaging-room.vue?8e86","webpack:///./src/client/app/common/views/components/messaging-room.message.vue?a578","webpack:///./src/client/app/common/views/components/messaging-room.message.vue?d680","webpack:///./src/client/app/common/views/components/messaging-room.message.vue?8aec","webpack:///./src/client/app/common/views/components/messaging-room.message.vue","webpack:///./src/client/app/common/views/components/messaging-room.form.vue?63af","webpack:///./src/client/app/common/views/components/messaging-room.form.vue?379d","webpack:///./src/client/app/common/views/components/messaging-room.form.vue?8252","webpack:///./src/client/app/common/views/components/messaging-room.form.vue","webpack:///./src/client/app/common/views/components/messaging-room.vue?f2a8","webpack:///./src/client/app/common/views/components/messaging-room.vue?c51f","webpack:///./src/client/app/common/views/components/messaging-room.vue","webpack:///./src/client/app/common/views/components/messaging-room.vue?7269"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,IAA0C;AAC/C,EAAE,iCAAO,CAAC,MAAQ,EAAE,OAAS,CAAC,oCAAE,OAAO;AAAA;AAAA;AAAA,oGAAC;AACxC,EAAE,MAAM,YAQN;AACF,CAAC;AACD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,0BAA0B,gBAAgB;AAC1C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+EAA+E;;AAE/E;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AA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;AAC7C;AACA,4BAA4B,SAAS,mBAAmB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,qCAAqC;AAC/D,0BAA0B,qCAAqC;AAC/D,uBAAuB;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,eAAe;AACf;AACA;AACA,2BAA2B,sBAAsB;AACjD;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,SAAS,eAAe,EAAE;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,8BAA8B,MAAM,8BAA8B,EAAE;AACpE;AACA;AACA,+BAA+B,SAAS,8BAA8B,EAAE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5JA,IAAI,sEAAM;AACV;AACA;AACA;AACA;AACA;AACA,KAAK,iCAAiC,yBAAyB,EAAE;AACjE;AACA;AACA;AACA,gBAAgB;AAChB,OAAO;AACP;AACA;AACA,SAAS,yBAAyB;AAClC;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,4BAA4B;AAC1D,2BAA2B;AAC3B,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,yBAAyB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA,qCAAqC,sBAAsB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,yBAAyB;AACtD,6BAA6B,4BAA4B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,mBAAmB,WAAW,EAAE;AACzE,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,sBAAsB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,sBAAsB;AAC1D;AACA;AACA;AACA;AACA,6BAA6B,SAAS,8BAA8B,EAAE;AACtE;AACA,6BAA6B,SAAS,qBAAqB,EAAE;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,+EAAe;AACnB,sEAAM;;;;;;;;;;;;AC3IgB;AACW;AACgB;AACK;AACvC,6GAAG;AAClB,UAAU,uBAAI;AACd;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,4BAA4B,sBAAK;AACjC,uBAAuB,uBAAM;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,CAAC,CAAC,EAAC;;;ACrCqR,CAAgB,4IAAG,EAAC,C;;;;;;;;ACA3L;AACvC;AACL;AACwC;;;AAG7G;AACsG;AACtG,gBAAgB,sCAAU;AAC1B,EAAE,yDAAM;AACR,EAAE,sEAAM;AACR,EAAE,+EAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,4E;;ACvCf,IAAI,mEAAM;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC,0BAA0B,gBAAgB;AAC1C;AACA;AACA;AACA,gBAAgB,4CAA4C;AAC5D,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,yBAAyB,uBAAuB,2BAA2B,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,eAAe;AACf,SAAS;AACT;AACA;AACA,yBAAyB,SAAS,sBAAsB,EAAE;AAC1D;AACA;AACA,yBAAyB,SAAS,wBAAwB,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,qCAAqC;AACvD,eAAe;AACf,SAAS;AACT,mBAAmB,SAAS,iBAAiB,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,qCAAqC;AACvD,eAAe;AACf,SAAS;AACT,mBAAmB,SAAS,+BAA+B,EAAE;AAC7D;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B,aAAa;AACb,OAAO;AACP;AACA;AACA;AACA;AACA,IAAI,4EAAe;AACnB,mEAAM;;;;;;;;;;;;AClHgB;AACW;AACI;AACqC;AAC3D,0GAAG;AAClB,UAAU,uBAAI;AACd;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,QAAQ,QAAQ;AAChB;AACA,8EAA8E;AAC9E;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,8CAAgB,oFAAoF,QAAQ,SAAS,EAAE,IAAI;AACpK;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,yBAAyB,SAAS,mBAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,iFAAiF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,iFAAiF;AACjF;AACA;AACA,SAAS;AACT;AACA,CAAC,CAAC,EAAC;;;AClLkR,CAAgB,sIAAG,EAAC,C;;;;;ACA3L;AACvC;AACL;AACwC;;;AAG1G;AACsG;AACtG,IAAI,6BAAS,GAAG,sCAAU;AAC1B,EAAE,sDAAM;AACR,EAAE,mEAAM;AACR,EAAE,4EAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,gCAiBf;AACD,6BAAS;AACM,qFAAS,Q;;;;;;;;ACvCF;AACW;AACmB;AACN;AACR;AACwC;AAC/D,qGAAG;AAClB,UAAU,uBAAI;AACd;AACA,QAAQ,gCAAQ;AAChB,QAAQ,0BAAK;AACb,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,gDAAiB,EAAE,0BAAM;AACrC;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,MAAM,+BAA+B,IAAI;AAClH;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,8DAA8D,gBAAgB;AAC9E;AACA;AACA,gEAAgE,gBAAgB;AAChF;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,2CAA2C,aAAG,CAAC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,CAAC,CAAC,EAAC;;;ACjP6Q,CAAgB,4HAAG,EAAC,C;;;;;ACA3L;AACvC;AACL;AACwC;;;AAGrG;AACsG;AACtG,IAAI,wBAAS,GAAG,sCAAU;AAC1B,EAAE,iDAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,2BAiBf;AACD,wBAAS;AACM,4GAAS,Q;;;;;;;;;;;;;ACvCxB;AAAA;AAAA;AAAA;AAAkjB,CAAgB,igBAAG,EAAC,C","file":"24.11.37.1.js","sourcesContent":["/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".mk-messaging-form>textarea[data-v-9d382d7e]{cursor:auto;display:block;width:100%;min-width:100%;max-width:100%;height:64px;margin:0;padding:8px;resize:none;font-size:1em;color:var(--inputText);outline:none;border:none;border-top:1px solid var(--faceDivider);border-radius:0;box-shadow:none;background:transparent}.mk-messaging-form>.file[data-v-9d382d7e]{padding:8px;color:#444;background:#eee;cursor:pointer}.mk-messaging-form>.send[data-v-9d382d7e]{position:absolute;bottom:0;right:0;margin:0;padding:10px 14px;font-size:1em;color:#aaa;transition:color .1s ease}.mk-messaging-form>.send[data-v-9d382d7e]:hover{color:var(--primary)}.mk-messaging-form>.send[data-v-9d382d7e]:active{color:var(--primaryDarken10);transition:color 0s ease}.mk-messaging-form .files[data-v-9d382d7e]{display:block;margin:0;padding:0 8px;list-style:none}.mk-messaging-form .files[data-v-9d382d7e]:after{content:\\\"\\\";display:block;clear:both}.mk-messaging-form .files>li[data-v-9d382d7e]{display:block;float:left;margin:4px;padding:0;width:64px;height:64px;background-color:#eee;background-repeat:no-repeat;background-position:50%;background-size:cover;cursor:move}.mk-messaging-form .files>li:hover>.remove[data-v-9d382d7e]{display:block}.mk-messaging-form .files>li>.remove[data-v-9d382d7e]{display:none;position:absolute;right:-6px;top:-6px;margin:0;padding:0;background:transparent;outline:none;border:none;border-radius:0;box-shadow:none;cursor:pointer}.mk-messaging-form .attach-from-drive[data-v-9d382d7e],.mk-messaging-form .attach-from-local[data-v-9d382d7e]{margin:0;padding:10px 14px;font-size:1em;font-weight:400;text-decoration:none;color:#aaa;transition:color .1s ease}.mk-messaging-form .attach-from-drive[data-v-9d382d7e]:hover,.mk-messaging-form .attach-from-local[data-v-9d382d7e]:hover{color:var(--primary)}.mk-messaging-form .attach-from-drive[data-v-9d382d7e]:active,.mk-messaging-form .attach-from-local[data-v-9d382d7e]:active{color:var(--primaryDarken10);transition:color 0s ease}.mk-messaging-form input[type=file][data-v-9d382d7e]{display:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".message[data-v-13ff651a]{padding:10px 12px;background-color:transparent}.message>.avatar[data-v-13ff651a]{display:block;position:absolute;top:10px;width:54px;height:54px;border-radius:8px;transition:all .1s ease}.message>.content>.balloon[data-v-13ff651a]{display:flex;align-items:center;padding:0;max-width:calc(100% - 16px);min-height:38px;border-radius:16px}.message>.content>.balloon[data-v-13ff651a]:before{content:\\\"\\\";pointer-events:none;display:block;position:absolute;top:12px}.message>.content>.balloon+*[data-v-13ff651a]{clear:both}.message>.content>.balloon:hover>.delete-button[data-v-13ff651a]{display:block}.message>.content>.balloon>.delete-button[data-v-13ff651a]{display:none;position:absolute;z-index:1;top:-4px;right:-4px;margin:0;padding:0;cursor:pointer;outline:none;border:none;border-radius:0;box-shadow:none;background:transparent}.message>.content>.balloon>.delete-button>img[data-v-13ff651a]{vertical-align:bottom;width:16px;height:16px;cursor:pointer}.message>.content>.balloon>.content[data-v-13ff651a]{max-width:100%}.message>.content>.balloon>.content>.is-deleted[data-v-13ff651a]{display:block;margin:0;padding:0;overflow:hidden;overflow-wrap:break-word;font-size:1em;color:rgba(0,0,0,.5)}.message>.content>.balloon>.content>.text[data-v-13ff651a]{display:block;margin:0;padding:8px 16px;overflow:hidden;overflow-wrap:break-word;word-break:break-word;font-size:1em;color:rgba(0,0,0,.8)}.message>.content>.balloon>.content>.text+.file>a[data-v-13ff651a]{border-radius:0 0 16px 16px}.message>.content>.balloon>.content>.file>a[data-v-13ff651a]{display:block;max-width:100%;border-radius:16px;overflow:hidden;text-decoration:none}.message>.content>.balloon>.content>.file>a[data-v-13ff651a]:hover{text-decoration:none}.message>.content>.balloon>.content>.file>a:hover>p[data-v-13ff651a]{background:#ccc}.message>.content>.balloon>.content>.file>a>*[data-v-13ff651a]{display:block;margin:0;width:100%;max-height:512px;object-fit:contain}.message>.content>.balloon>.content>.file>a>p[data-v-13ff651a]{padding:30px;text-align:center;color:#555;background:#ddd}.message>.content>.mk-url-preview[data-v-13ff651a]{margin:8px 0}.message>.content>footer[data-v-13ff651a]{display:block;margin:2px 0 0;font-size:10px;color:var(--messagingRoomMessageInfo)}.message>.content>footer>.read[data-v-13ff651a]{margin:0 8px}.message>.content>footer>[data-icon][data-v-13ff651a]{margin-left:4px}.message:not([data-is-me])>.avatar[data-v-13ff651a]{left:12px}.message:not([data-is-me])>.content[data-v-13ff651a]{padding-left:66px}.message:not([data-is-me])>.content>.balloon[data-v-13ff651a]{float:left;background:var(--messagingRoomMessageBg)}.message:not([data-is-me])>.content>.balloon[data-no-text][data-v-13ff651a]{background:transparent}.message:not([data-is-me])>.content>.balloon[data-v-13ff651a]:not([data-no-text]):before{left:-14px;border:8px solid transparent;border-right:8px solid var(--messagingRoomMessageBg)}.message:not([data-is-me])>.content>.balloon>.content>.text[data-v-13ff651a]{color:var(--messagingRoomMessageFg)}.message:not([data-is-me])>.content>footer[data-v-13ff651a]{text-align:left}.message[data-is-me]>.avatar[data-v-13ff651a]{right:12px}.message[data-is-me]>.content[data-v-13ff651a]{padding-right:66px}.message[data-is-me]>.content>.balloon[data-v-13ff651a]{float:right;background:var(--primary)}.message[data-is-me]>.content>.balloon[data-no-text][data-v-13ff651a]{background:transparent}.message[data-is-me]>.content>.balloon[data-v-13ff651a]:not([data-no-text]):before{right:-14px;left:auto;border:8px solid transparent;border-left:8px solid var(--primary)}.message[data-is-me]>.content>.balloon>.content>p.is-deleted[data-v-13ff651a]{color:hsla(0,0%,100%,.5)}.message[data-is-me]>.content>.balloon>.content>.text[data-v-13ff651a] ,.message[data-is-me]>.content>.balloon>.content>.text[data-v-13ff651a] *{color:#fff!important}.message[data-is-me]>.content>footer[data-v-13ff651a]{text-align:right}.message[data-is-me]>.content>footer>.read[data-v-13ff651a]{user-select:none}.message[data-is-deleted]>.balloon[data-v-13ff651a]{opacity:.5}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".mk-messaging-room[data-v-4abc0281]{background:var(--messagingRoomBg)}.mk-messaging-room>.body[data-v-4abc0281]{width:100%;max-width:600px;margin:0 auto;min-height:calc(100% - 103px)}.mk-messaging-room>.body>.empty[data-v-4abc0281],.mk-messaging-room>.body>.init[data-v-4abc0281]{width:100%;margin:0;padding:16px 8px 8px;text-align:center;font-size:.8em;color:var(--messagingRoomInfo);opacity:.5}.mk-messaging-room>.body>.empty [data-icon][data-v-4abc0281],.mk-messaging-room>.body>.init [data-icon][data-v-4abc0281]{margin-right:4px}.mk-messaging-room>.body>.no-history[data-v-4abc0281]{display:block;margin:0;padding:16px;text-align:center;font-size:.8em;color:var(--messagingRoomInfo);opacity:.5}.mk-messaging-room>.body>.no-history [data-icon][data-v-4abc0281]{margin-right:4px}.mk-messaging-room>.body>.more[data-v-4abc0281]{display:block;margin:16px auto;padding:0 12px;line-height:24px;color:#fff;background:rgba(0,0,0,.3);border-radius:12px}.mk-messaging-room>.body>.more[data-v-4abc0281]:hover{background:rgba(0,0,0,.4)}.mk-messaging-room>.body>.more[data-v-4abc0281]:active{background:rgba(0,0,0,.5)}.mk-messaging-room>.body>.more.fetching[data-v-4abc0281]{cursor:wait}.mk-messaging-room>.body>.more>[data-icon][data-v-4abc0281]{margin-right:4px}.mk-messaging-room>.body>.date[data-v-4abc0281]{display:block;margin:8px 0;text-align:center}.mk-messaging-room>.body>.date[data-v-4abc0281]:before{content:\\\"\\\";display:block;position:absolute;height:1px;width:90%;top:16px;left:0;right:0;margin:0 auto;background:var(--messagingRoomDateDividerLine)}.mk-messaging-room>.body>.date>span[data-v-4abc0281]{display:inline-block;margin:0;padding:0 16px;line-height:32px;color:var(--messagingRoomDateDividerText);background:var(--messagingRoomBg)}.mk-messaging-room>footer[data-v-4abc0281]{position:-webkit-sticky;position:sticky;z-index:2;bottom:0;width:100%;max-width:600px;margin:0 auto;padding:0;background:var(--messagingRoomBg);background-clip:content-box}.mk-messaging-room>footer>.new-message[data-v-4abc0281]{position:absolute;top:-48px;width:100%;padding:8px 0;text-align:center}.mk-messaging-room>footer>.new-message>button[data-v-4abc0281]{display:inline-block;margin:0;padding:0 12px 0 30px;cursor:pointer;line-height:32px;font-size:12px;color:var(--primaryForeground);background:var(--primary);border-radius:16px}.mk-messaging-room>footer>.new-message>button[data-v-4abc0281]:hover{background:var(--primaryLighten10)}.mk-messaging-room>footer>.new-message>button[data-v-4abc0281]:active{background:var(--primaryDarken10)}.mk-messaging-room>footer>.new-message>button>i[data-v-4abc0281]{position:absolute;top:0;left:10px;line-height:32px;font-size:16px}.fade-enter-active[data-v-4abc0281],.fade-leave-active[data-v-4abc0281]{transition:opacity .1s}.fade-enter[data-v-4abc0281],.fade-leave-to[data-v-4abc0281]{transition:opacity .5s;opacity:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.form.vue?vue&type=style&index=0&id=9d382d7e&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2e2e54eb\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.form.vue?vue&type=style&index=0&id=9d382d7e&lang=stylus&scoped=true&\", function() {\n     var newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.form.vue?vue&type=style&index=0&id=9d382d7e&lang=stylus&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.message.vue?vue&type=style&index=0&id=13ff651a&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3b47dafc\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.message.vue?vue&type=style&index=0&id=13ff651a&lang=stylus&scoped=true&\", function() {\n     var newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.message.vue?vue&type=style&index=0&id=13ff651a&lang=stylus&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.vue?vue&type=style&index=0&id=4abc0281&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7c111350\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.vue?vue&type=style&index=0&id=4abc0281&lang=stylus&scoped=true&\", function() {\n     var newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.vue?vue&type=style&index=0&id=4abc0281&lang=stylus&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","import mod from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.form.vue?vue&type=style&index=0&id=9d382d7e&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.form.vue?vue&type=style&index=0&id=9d382d7e&lang=stylus&scoped=true&\"","import mod from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.message.vue?vue&type=style&index=0&id=13ff651a&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.message.vue?vue&type=style&index=0&id=13ff651a&lang=stylus&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"mk-messaging-room\",\n      on: {\n        dragover: function($event) {\n          $event.preventDefault()\n          $event.stopPropagation()\n          return _vm.onDragover($event)\n        },\n        drop: function($event) {\n          $event.preventDefault()\n          $event.stopPropagation()\n          return _vm.onDrop($event)\n        }\n      }\n    },\n    [\n      _c(\n        \"div\",\n        { staticClass: \"body\" },\n        [\n          _vm.init\n            ? _c(\n                \"p\",\n                { staticClass: \"init\" },\n                [\n                  _c(\"fa\", {\n                    attrs: { icon: \"spinner\", pulse: \"\", \"fixed-width\": \"\" }\n                  }),\n                  _vm._v(_vm._s(_vm.$t(\"@.loading\")))\n                ],\n                1\n              )\n            : _vm._e(),\n          !_vm.init && _vm.messages.length == 0\n            ? _c(\n                \"p\",\n                { staticClass: \"empty\" },\n                [\n                  _c(\"fa\", { attrs: { icon: \"info-circle\" } }),\n                  _vm._v(\n                    _vm._s(\n                      _vm.user\n                        ? _vm.$t(\"not-talked-user\")\n                        : _vm.$t(\"not-talked-group\")\n                    )\n                  )\n                ],\n                1\n              )\n            : _vm._e(),\n          !_vm.init && _vm.messages.length > 0 && !_vm.existMoreMessages\n            ? _c(\n                \"p\",\n                { staticClass: \"no-history\" },\n                [\n                  _c(\"fa\", { attrs: { icon: _vm.faFlag } }),\n                  _vm._v(_vm._s(_vm.$t(\"no-history\")))\n                ],\n                1\n              )\n            : _vm._e(),\n          _vm.existMoreMessages\n            ? _c(\n                \"button\",\n                {\n                  staticClass: \"more\",\n                  class: { fetching: _vm.fetchingMoreMessages },\n                  attrs: { disabled: _vm.fetchingMoreMessages },\n                  on: { click: _vm.fetchMoreMessages }\n                },\n                [\n                  _vm.fetchingMoreMessages\n                    ? [\n                        _c(\"fa\", {\n                          attrs: {\n                            icon: \"spinner\",\n                            pulse: \"\",\n                            \"fixed-width\": \"\"\n                          }\n                        })\n                      ]\n                    : _vm._e(),\n                  _vm._v(\n                    _vm._s(\n                      _vm.fetchingMoreMessages\n                        ? _vm.$t(\"@.loading\")\n                        : _vm.$t(\"@.load-more\")\n                    ) + \"\\n\\t\\t\"\n                  )\n                ],\n                2\n              )\n            : _vm._e(),\n          _vm._l(_vm._messages, function(message, i) {\n            return [\n              _c(\"x-message\", {\n                key: message.id,\n                attrs: { message: message, \"is-group\": _vm.group != null }\n              }),\n              i != _vm.messages.length - 1 &&\n              message._date != _vm._messages[i + 1]._date\n                ? _c(\"p\", { staticClass: \"date\" }, [\n                    _c(\"span\", [_vm._v(_vm._s(_vm._messages[i + 1]._datetext))])\n                  ])\n                : _vm._e()\n            ]\n          })\n        ],\n        2\n      ),\n      _c(\n        \"footer\",\n        [\n          _c(\"transition\", { attrs: { name: \"fade\" } }, [\n            _c(\n              \"div\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.showIndicator,\n                    expression: \"showIndicator\"\n                  }\n                ],\n                staticClass: \"new-message\"\n              },\n              [\n                _c(\"button\", { on: { click: _vm.onIndicatorClick } }, [\n                  _c(\n                    \"i\",\n                    [_c(\"fa\", { attrs: { icon: _vm.faArrowCircleDown } })],\n                    1\n                  ),\n                  _vm._v(_vm._s(_vm.$t(\"new-message\")))\n                ])\n              ]\n            )\n          ]),\n          _c(\"x-form\", {\n            ref: \"form\",\n            attrs: { user: _vm.user, group: _vm.group }\n          })\n        ],\n        1\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"message\", attrs: { \"data-is-me\": _vm.isMe } },\n    [\n      _c(\"mk-avatar\", {\n        staticClass: \"avatar\",\n        attrs: { user: _vm.message.user, target: \"_blank\" }\n      }),\n      _c(\n        \"div\",\n        { staticClass: \"content\" },\n        [\n          _c(\n            \"div\",\n            {\n              staticClass: \"balloon\",\n              attrs: { \"data-no-text\": _vm.message.text == null }\n            },\n            [\n              _vm.isMe\n                ? _c(\n                    \"button\",\n                    {\n                      staticClass: \"delete-button\",\n                      attrs: { title: _vm.$t(\"@.delete\") },\n                      on: { click: _vm.del }\n                    },\n                    [\n                      _c(\"img\", {\n                        attrs: {\n                          src: \"/assets/desktop/remove.png\",\n                          alt: \"Delete\"\n                        }\n                      })\n                    ]\n                  )\n                : _vm._e(),\n              !_vm.message.isDeleted\n                ? _c(\n                    \"div\",\n                    { staticClass: \"content\" },\n                    [\n                      _vm.message.text\n                        ? _c(\"mfm\", {\n                            ref: \"text\",\n                            staticClass: \"text\",\n                            attrs: {\n                              text: _vm.message.text,\n                              i: _vm.$store.state.i\n                            }\n                          })\n                        : _vm._e(),\n                      _vm.message.file\n                        ? _c(\"div\", { staticClass: \"file\" }, [\n                            _c(\n                              \"a\",\n                              {\n                                attrs: {\n                                  href: _vm.message.file.url,\n                                  rel: \"noopener\",\n                                  target: \"_blank\",\n                                  title: _vm.message.file.name\n                                }\n                              },\n                              [\n                                _vm.message.file.type.split(\"/\")[0] == \"image\"\n                                  ? _c(\"img\", {\n                                      style: {\n                                        backgroundColor:\n                                          _vm.message.file.properties\n                                            .avgColor || \"transparent\"\n                                      },\n                                      attrs: {\n                                        src: _vm.message.file.url,\n                                        alt: _vm.message.file.name\n                                      }\n                                    })\n                                  : _c(\"p\", [\n                                      _vm._v(_vm._s(_vm.message.file.name))\n                                    ])\n                              ]\n                            )\n                          ])\n                        : _vm._e()\n                    ],\n                    1\n                  )\n                : _c(\"div\", { staticClass: \"content\" }, [\n                    _c(\"p\", { staticClass: \"is-deleted\" }, [\n                      _vm._v(_vm._s(_vm.$t(\"deleted\")))\n                    ])\n                  ])\n            ]\n          ),\n          _c(\"div\"),\n          _vm._l(_vm.urls, function(url) {\n            return _c(\"mk-url-preview\", { key: url, attrs: { url: url } })\n          }),\n          _c(\n            \"footer\",\n            [\n              _vm.isGroup\n                ? [\n                    _vm.message.reads.length > 0\n                      ? _c(\"span\", { staticClass: \"read\" }, [\n                          _vm._v(\n                            _vm._s(_vm.$t(\"is-read\")) +\n                              \" \" +\n                              _vm._s(_vm.message.reads.length)\n                          )\n                        ])\n                      : _vm._e()\n                  ]\n                : [\n                    _vm.isMe && _vm.message.isRead\n                      ? _c(\"span\", { staticClass: \"read\" }, [\n                          _vm._v(_vm._s(_vm.$t(\"is-read\")))\n                        ])\n                      : _vm._e()\n                  ],\n              _c(\"mk-time\", { attrs: { time: _vm.message.createdAt } }),\n              _vm.message.is_edited\n                ? [_c(\"fa\", { attrs: { icon: \"pencil-alt\" } })]\n                : _vm._e()\n            ],\n            2\n          )\n        ],\n        2\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport i18n from '../../../i18n';\nimport { parse } from '../../../../../mfm/parse';\nimport { unique } from '../../../../../prelude/array';\nexport default Vue.extend({\n    i18n: i18n('common/views/components/messaging-room.message.vue'),\n    props: {\n        message: {\n            required: true\n        },\n        isGroup: {\n            required: false\n        }\n    },\n    computed: {\n        isMe() {\n            return this.message.userId == this.$store.state.i.id;\n        },\n        urls() {\n            if (this.message.text) {\n                const ast = parse(this.message.text);\n                return unique(ast\n                    .filter(t => ((t.node.type == 'url' || t.node.type == 'link') && t.node.props.url && !t.node.props.silent))\n                    .map(t => t.node.props.url));\n            }\n            else {\n                return null;\n            }\n        }\n    },\n    methods: {\n        del() {\n            this.$root.api('messaging/messages/delete', {\n                messageId: this.message.id\n            });\n        }\n    }\n});\n","import mod from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.message.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.message.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./messaging-room.message.vue?vue&type=template&id=13ff651a&scoped=true&\"\nimport script from \"./messaging-room.message.vue?vue&type=script&lang=ts&\"\nexport * from \"./messaging-room.message.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./messaging-room.message.vue?vue&type=style&index=0&id=13ff651a&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13ff651a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/ubuntu/uma/misskey/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('13ff651a')) {\n      api.createRecord('13ff651a', component.options)\n    } else {\n      api.reload('13ff651a', component.options)\n    }\n    module.hot.accept(\"./messaging-room.message.vue?vue&type=template&id=13ff651a&scoped=true&\", function () {\n      api.rerender('13ff651a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/client/app/common/views/components/messaging-room.message.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"mk-messaging-form\",\n      on: {\n        dragover: function($event) {\n          $event.stopPropagation()\n          return _vm.onDragover($event)\n        },\n        drop: function($event) {\n          $event.stopPropagation()\n          return _vm.onDrop($event)\n        }\n      }\n    },\n    [\n      _c(\"textarea\", {\n        directives: [\n          {\n            name: \"model\",\n            rawName: \"v-model\",\n            value: _vm.text,\n            expression: \"text\"\n          },\n          {\n            name: \"autocomplete\",\n            rawName: \"v-autocomplete\",\n            value: { model: \"text\" },\n            expression: \"{ model: 'text' }\"\n          }\n        ],\n        ref: \"textarea\",\n        attrs: { placeholder: _vm.$t(\"input-message-here\") },\n        domProps: { value: _vm.text },\n        on: {\n          keypress: _vm.onKeypress,\n          paste: _vm.onPaste,\n          input: function($event) {\n            if ($event.target.composing) {\n              return\n            }\n            _vm.text = $event.target.value\n          }\n        }\n      }),\n      _vm.file\n        ? _c(\n            \"div\",\n            {\n              staticClass: \"file\",\n              on: {\n                click: function($event) {\n                  _vm.file = null\n                }\n              }\n            },\n            [_vm._v(_vm._s(_vm.file.name))]\n          )\n        : _vm._e(),\n      _c(\"mk-uploader\", { ref: \"uploader\", on: { uploaded: _vm.onUploaded } }),\n      _c(\n        \"button\",\n        {\n          staticClass: \"send\",\n          attrs: {\n            disabled: !_vm.canSend || _vm.sending,\n            title: _vm.$t(\"send\")\n          },\n          on: { click: _vm.send }\n        },\n        [\n          !_vm.sending\n            ? [_c(\"fa\", { attrs: { icon: \"paper-plane\" } })]\n            : _vm._e(),\n          _vm.sending\n            ? [_c(\"fa\", { attrs: { icon: \"spinner .spin\" } })]\n            : _vm._e()\n        ],\n        2\n      ),\n      _c(\n        \"button\",\n        {\n          staticClass: \"attach-from-local\",\n          attrs: { title: _vm.$t(\"attach-from-local\") },\n          on: { click: _vm.chooseFile }\n        },\n        [_c(\"fa\", { attrs: { icon: \"upload\" } })],\n        1\n      ),\n      _c(\n        \"button\",\n        {\n          staticClass: \"attach-from-drive\",\n          attrs: { title: _vm.$t(\"attach-from-drive\") },\n          on: { click: _vm.chooseFileFromDrive }\n        },\n        [_c(\"fa\", { attrs: { icon: [\"far\", \"folder-open\"] } })],\n        1\n      ),\n      _c(\"input\", {\n        ref: \"file\",\n        attrs: { type: \"file\" },\n        on: { change: _vm.onChangeFile }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport i18n from '../../../i18n';\nimport * as autosize from 'autosize';\nimport { formatTimeString } from '../../../../../misc/format-time-string';\nexport default Vue.extend({\n    i18n: i18n('common/views/components/messaging-room.form.vue'),\n    props: {\n        user: {\n            type: Object,\n            requird: false,\n        },\n        group: {\n            type: Object,\n            requird: false,\n        },\n    },\n    data() {\n        return {\n            text: null,\n            file: null,\n            sending: false\n        };\n    },\n    computed: {\n        draftId() {\n            return this.user ? 'user:' + this.user.id : 'group:' + this.group.id;\n        },\n        canSend() {\n            return (this.text != null && this.text != '') || this.file != null;\n        },\n        room() {\n            return this.$parent;\n        }\n    },\n    watch: {\n        text() {\n            this.saveDraft();\n        },\n        file() {\n            this.saveDraft();\n            if (this.room.isBottom()) {\n                this.room.scrollToBottom();\n            }\n        }\n    },\n    mounted() {\n        autosize(this.$refs.textarea);\n        // 書きかけの投稿を復元\n        const draft = JSON.parse(localStorage.getItem('message_drafts') || '{}')[this.draftId];\n        if (draft) {\n            this.text = draft.data.text;\n            this.file = draft.data.file;\n        }\n    },\n    methods: {\n        async onPaste(e) {\n            const data = e.clipboardData;\n            const items = data.items;\n            if (items.length == 1) {\n                if (items[0].kind == 'file') {\n                    const file = items[0].getAsFile();\n                    const lio = file.name.lastIndexOf('.');\n                    const ext = lio >= 0 ? file.name.slice(lio) : '';\n                    const formatted = `${formatTimeString(new Date(file.lastModified), this.$store.state.settings.pastedFileName).replace(/{{number}}/g, '1')}${ext}`;\n                    const name = this.$store.state.settings.pasteDialog\n                        ? await this.$root.dialog({\n                            title: this.$t('@.post-form.enter-file-name'),\n                            input: {\n                                default: formatted\n                            },\n                            allowEmpty: false\n                        }).then(({ canceled, result }) => canceled ? false : result)\n                        : formatted;\n                    if (name)\n                        this.upload(file, name);\n                }\n            }\n            else {\n                if (items[0].kind == 'file') {\n                    this.$root.dialog({\n                        type: 'error',\n                        text: this.$t('only-one-file-attached')\n                    });\n                }\n            }\n        },\n        onDragover(e) {\n            const isFile = e.dataTransfer.items[0].kind == 'file';\n            const isDriveFile = e.dataTransfer.types[0] == 'mk_drive_file';\n            if (isFile || isDriveFile) {\n                e.preventDefault();\n                e.dataTransfer.dropEffect = e.dataTransfer.effectAllowed == 'all' ? 'copy' : 'move';\n            }\n        },\n        onDrop(e) {\n            // ファイルだったら\n            if (e.dataTransfer.files.length == 1) {\n                e.preventDefault();\n                this.upload(e.dataTransfer.files[0]);\n                return;\n            }\n            else if (e.dataTransfer.files.length > 1) {\n                e.preventDefault();\n                this.$root.dialog({\n                    type: 'error',\n                    text: this.$t('only-one-file-attached')\n                });\n                return;\n            }\n            //#region ドライブのファイル\n            const driveFile = e.dataTransfer.getData('mk_drive_file');\n            if (driveFile != null && driveFile != '') {\n                this.file = JSON.parse(driveFile);\n                e.preventDefault();\n            }\n            //#endregion\n        },\n        onKeypress(e) {\n            if ((e.which == 10 || e.which == 13) && e.ctrlKey && this.canSend) {\n                this.send();\n            }\n        },\n        chooseFile() {\n            this.$refs.file.click();\n        },\n        chooseFileFromDrive() {\n            this.$chooseDriveFile({\n                multiple: false\n            }).then(file => {\n                this.file = file;\n            });\n        },\n        onChangeFile() {\n            this.upload(this.$refs.file.files[0]);\n        },\n        upload(file, name) {\n            this.$refs.uploader.upload(file, this.$store.state.settings.uploadFolder, name);\n        },\n        onUploaded(file) {\n            this.file = file;\n        },\n        send() {\n            this.sending = true;\n            this.$root.api('messaging/messages/create', {\n                userId: this.user ? this.user.id : undefined,\n                groupId: this.group ? this.group.id : undefined,\n                text: this.text ? this.text : undefined,\n                fileId: this.file ? this.file.id : undefined\n            }).then(message => {\n                this.clear();\n            }).catch(err => {\n                console.error(err);\n            }).then(() => {\n                this.sending = false;\n            });\n        },\n        clear() {\n            this.text = '';\n            this.file = null;\n            this.deleteDraft();\n        },\n        saveDraft() {\n            const data = JSON.parse(localStorage.getItem('message_drafts') || '{}');\n            data[this.draftId] = {\n                updatedAt: new Date(),\n                data: {\n                    text: this.text,\n                    file: this.file\n                }\n            };\n            localStorage.setItem('message_drafts', JSON.stringify(data));\n        },\n        deleteDraft() {\n            const data = JSON.parse(localStorage.getItem('message_drafts') || '{}');\n            delete data[this.draftId];\n            localStorage.setItem('message_drafts', JSON.stringify(data));\n        },\n    }\n});\n","import mod from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.form.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.form.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./messaging-room.form.vue?vue&type=template&id=9d382d7e&scoped=true&\"\nimport script from \"./messaging-room.form.vue?vue&type=script&lang=ts&\"\nexport * from \"./messaging-room.form.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./messaging-room.form.vue?vue&type=style&index=0&id=9d382d7e&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9d382d7e\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/ubuntu/uma/misskey/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('9d382d7e')) {\n      api.createRecord('9d382d7e', component.options)\n    } else {\n      api.reload('9d382d7e', component.options)\n    }\n    module.hot.accept(\"./messaging-room.form.vue?vue&type=template&id=9d382d7e&scoped=true&\", function () {\n      api.rerender('9d382d7e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/client/app/common/views/components/messaging-room.form.vue\"\nexport default component.exports","import Vue from 'vue';\nimport i18n from '../../../i18n';\nimport XMessage from './messaging-room.message.vue';\nimport XForm from './messaging-room.form.vue';\nimport { url } from '../../../config';\nimport { faArrowCircleDown, faFlag } from '@fortawesome/free-solid-svg-icons';\nexport default Vue.extend({\n    i18n: i18n('common/views/components/messaging-room.vue'),\n    components: {\n        XMessage,\n        XForm\n    },\n    props: {\n        user: {\n            type: Object,\n            requird: false,\n        },\n        group: {\n            type: Object,\n            requird: false,\n        },\n        isNaked: {\n            type: Boolean,\n            requird: false,\n        },\n    },\n    data() {\n        return {\n            init: true,\n            fetchingMoreMessages: false,\n            messages: [],\n            existMoreMessages: false,\n            connection: null,\n            showIndicator: false,\n            timer: null,\n            faArrowCircleDown, faFlag\n        };\n    },\n    computed: {\n        _messages() {\n            return this.messages.map(message => {\n                const date = new Date(message.createdAt).getDate();\n                const month = new Date(message.createdAt).getMonth() + 1;\n                message._date = date;\n                message._datetext = this.$t('@.month-and-day').replace('{month}', month.toString()).replace('{day}', date.toString());\n                return message;\n            });\n        },\n        form() {\n            return this.$refs.form;\n        }\n    },\n    mounted() {\n        this.connection = this.$root.stream.connectToChannel('messaging', {\n            otherparty: this.user ? this.user.id : undefined,\n            group: this.group ? this.group.id : undefined,\n        });\n        this.connection.on('message', this.onMessage);\n        this.connection.on('read', this.onRead);\n        this.connection.on('deleted', this.onDeleted);\n        if (this.isNaked) {\n            window.addEventListener('scroll', this.onScroll, { passive: true });\n        }\n        else {\n            this.$el.addEventListener('scroll', this.onScroll, { passive: true });\n        }\n        document.addEventListener('visibilitychange', this.onVisibilitychange);\n        this.fetchMessages().then(() => {\n            this.init = false;\n            this.scrollToBottom();\n        });\n    },\n    beforeDestroy() {\n        this.connection.dispose();\n        if (this.isNaked) {\n            window.removeEventListener('scroll', this.onScroll);\n        }\n        else {\n            this.$el.removeEventListener('scroll', this.onScroll);\n        }\n        document.removeEventListener('visibilitychange', this.onVisibilitychange);\n    },\n    methods: {\n        onDragover(e) {\n            const isFile = e.dataTransfer.items[0].kind == 'file';\n            const isDriveFile = e.dataTransfer.types[0] == 'mk_drive_file';\n            if (isFile || isDriveFile) {\n                e.dataTransfer.dropEffect = e.dataTransfer.effectAllowed == 'all' ? 'copy' : 'move';\n            }\n            else {\n                e.dataTransfer.dropEffect = 'none';\n            }\n        },\n        onDrop(e) {\n            // ファイルだったら\n            if (e.dataTransfer.files.length == 1) {\n                this.form.upload(e.dataTransfer.files[0]);\n                return;\n            }\n            else if (e.dataTransfer.files.length > 1) {\n                this.$root.dialog({\n                    type: 'error',\n                    text: this.$t('only-one-file-attached')\n                });\n                return;\n            }\n            //#region ドライブのファイル\n            const driveFile = e.dataTransfer.getData('mk_drive_file');\n            if (driveFile != null && driveFile != '') {\n                const file = JSON.parse(driveFile);\n                this.form.file = file;\n            }\n            //#endregion\n        },\n        fetchMessages() {\n            return new Promise((resolve, reject) => {\n                const max = this.existMoreMessages ? 20 : 10;\n                this.$root.api('messaging/messages', {\n                    userId: this.user ? this.user.id : undefined,\n                    groupId: this.group ? this.group.id : undefined,\n                    limit: max + 1,\n                    untilId: this.existMoreMessages ? this.messages[0].id : undefined\n                }).then(messages => {\n                    if (messages.length == max + 1) {\n                        this.existMoreMessages = true;\n                        messages.pop();\n                    }\n                    else {\n                        this.existMoreMessages = false;\n                    }\n                    this.messages.unshift.apply(this.messages, messages.reverse());\n                    resolve();\n                });\n            });\n        },\n        fetchMoreMessages() {\n            this.fetchingMoreMessages = true;\n            this.fetchMessages().then(() => {\n                this.fetchingMoreMessages = false;\n            });\n        },\n        onMessage(message) {\n            // サウンドを再生する\n            if (this.$store.state.device.enableSounds) {\n                const sound = new Audio(`${url}/assets/message.mp3`);\n                sound.volume = this.$store.state.device.soundVolume;\n                sound.play();\n            }\n            const isBottom = this.isBottom();\n            this.messages.push(message);\n            if (message.userId != this.$store.state.i.id && !document.hidden) {\n                this.connection.send('read', {\n                    id: message.id\n                });\n            }\n            if (isBottom) {\n                // Scroll to bottom\n                this.$nextTick(() => {\n                    this.scrollToBottom();\n                });\n            }\n            else if (message.userId != this.$store.state.i.id) {\n                // Notify\n                this.notifyNewMessage();\n            }\n        },\n        onRead(x) {\n            if (this.user) {\n                if (!Array.isArray(x))\n                    x = [x];\n                for (const id of x) {\n                    if (this.messages.some(x => x.id == id)) {\n                        const exist = this.messages.map(x => x.id).indexOf(id);\n                        this.messages[exist].isRead = true;\n                    }\n                }\n            }\n            else if (this.group) {\n                for (const id of x.ids) {\n                    if (this.messages.some(x => x.id == id)) {\n                        const exist = this.messages.map(x => x.id).indexOf(id);\n                        this.messages[exist].reads.push(x.userId);\n                    }\n                }\n            }\n        },\n        onDeleted(id) {\n            const msg = this.messages.find(m => m.id === id);\n            if (msg) {\n                this.messages = this.messages.filter(m => m.id !== msg.id);\n            }\n        },\n        isBottom() {\n            const asobi = 64;\n            const current = this.isNaked\n                ? window.scrollY + window.innerHeight\n                : this.$el.scrollTop + this.$el.offsetHeight;\n            const max = this.isNaked\n                ? document.body.offsetHeight\n                : this.$el.scrollHeight;\n            return current > (max - asobi);\n        },\n        scrollToBottom() {\n            if (this.isNaked) {\n                window.scroll(0, document.body.offsetHeight);\n            }\n            else {\n                this.$el.scrollTop = this.$el.scrollHeight;\n            }\n        },\n        onIndicatorClick() {\n            this.showIndicator = false;\n            this.scrollToBottom();\n        },\n        notifyNewMessage() {\n            this.showIndicator = true;\n            if (this.timer)\n                clearTimeout(this.timer);\n            this.timer = setTimeout(() => {\n                this.showIndicator = false;\n            }, 4000);\n        },\n        onScroll() {\n            const el = this.isNaked ? window.document.documentElement : this.$el;\n            const current = el.scrollTop + el.clientHeight;\n            if (current > el.scrollHeight - 1) {\n                this.showIndicator = false;\n            }\n        },\n        onVisibilitychange() {\n            if (document.hidden)\n                return;\n            for (const message of this.messages) {\n                if (message.userId !== this.$store.state.i.id && !message.isRead) {\n                    this.connection.send('read', {\n                        id: message.id\n                    });\n                }\n            }\n        }\n    }\n});\n","import mod from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/ts-loader/index.js??ref--5-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./messaging-room.vue?vue&type=template&id=4abc0281&scoped=true&\"\nimport script from \"./messaging-room.vue?vue&type=script&lang=ts&\"\nexport * from \"./messaging-room.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./messaging-room.vue?vue&type=style&index=0&id=4abc0281&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4abc0281\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/ubuntu/uma/misskey/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4abc0281')) {\n      api.createRecord('4abc0281', component.options)\n    } else {\n      api.reload('4abc0281', component.options)\n    }\n    module.hot.accept(\"./messaging-room.vue?vue&type=template&id=4abc0281&scoped=true&\", function () {\n      api.rerender('4abc0281', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/client/app/common/views/components/messaging-room.vue\"\nexport default component.exports","import mod from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.vue?vue&type=style&index=0&id=4abc0281&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--1-oneOf-1-2!../../../../../../node_modules/stylus-loader/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./messaging-room.vue?vue&type=style&index=0&id=4abc0281&lang=stylus&scoped=true&\""],"sourceRoot":""}